<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="theme-color" content="#10145C" />
    <title>RAFT</title>

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="style.css" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="192x192" href="favicon.png" />
    <link rel="apple-touch-icon" href="favicon.png" />

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json" />

    <!-- Script -->
    <script src="script.js" type="text/javascript"></script>
</head>

<body onload="fadeToHomePage()">
    <!-- ---------------------------------- LOADING PAGE ----------------------------------------- -->
    <div id="loadingIniziale" class="slide loading">
        <div class="logoNome">
            <img src="img/draw/logoRaft.png" alt="Raft Logo">
            <h1>RAFT</h1>
            <p>Real Time Automated Fingerspelling Translator</p>
        </div>
        <div class="pattern"></div>
    </div>

    <!-- ---------------------------------- TITLE BAR AND LOGO ----------------------------------------- -->
    <header id="barraLogo" class="slide">
        <div id="nomeApp">RAFT</div>
        <div class="menu-bar">
            <a href="#" class="menu-item menu-home">home</a>
            <div class="divider"></div>
            <a href="#" class="menu-item menu-vocabulary">vocabulary</a>
            <div class="divider"></div>
            <a href="#" class="menu-item menu-contact">contact</a>
        </div>
        <div id="imgLoghi">
            <a href="https://www.galileicrema.edu.it/" target="_blank">
                <img src="img/draw/logoGalilei.png" alt="Galilei Logo">
            </a>
            <a href="https://www.asdoverlimits.com/" target="_blank">
                <img src="img/draw/logoOverlimits.png" alt="Overlimits Logo">
            </a>
        </div>
    </header>

    <!-- ---------------------------------- LANGUAGE SELECTION BAR ----------------------------------------- -->
    <div id="selezioneLinguaBarra" class="slide">
        <button class="lang-btn active" data-lang="Europe">Europe</button>
        <button class="lang-btn" data-lang="American">American</button>
        <button class="lang-btn disabled" id="noClick" disabled>Other languages</button>
    </div>

    <!-- ---------------------------------- MODE SELECTION PAGE ----------------------------------------- -->
    <div id="selModalita" class="slide marginBottom">
        <div class="card-container">
            <div class="card active" id="cardTraduttore" onclick="enableCam(); toSlide('traduzione')">
                <img class="card-img" src="img/draw/traduzioneOff.png" alt="Translation">
            </div>
            <h3>Translator</h3>
            <p>Instantly translate the fingerspelling alphabet</p>
        </div>

        <div class="card-container">
            <div class="card disactive" id="cardAllenamento" onclick="toSlide('selDifficolta')">
                <img class="card-img" src="img/draw/allenamentoOff.png" alt="Training">
            </div>
            <h3>Training</h3>
            <p>Have fun training</p>
        </div>
    </div>

    <!-- ---------------------------------- INTELLIGENCE LOADING PAGE ----------------------------------------- -->
    <div id="loadingIntelligenza" class="slide loading" style="display: none;">
        <div class="logoNome">
            <img src="img/draw/logoRaft.png" alt="Raft Logo">
            <h1>RAFT</h1>
            <p>Loading...</p>
        </div>
        <div id="pattern" class="pattern"></div>
    </div>

    <!-- ---------------------------------- TRANSLATION PAGE ----------------------------------------- -->
    <div id="traduzione" class="slide" style="display: none;">
        <button class="backButton" id="diseableWebcamButton"
            onclick="disableCam(); toSlide('homePage'); clearOutput()">Go Back</button>
        <button class="clearButton" onclick="clearOutput()">Clear</button>
        <div class="videoContainer">
            <video id="webcam" autoplay playsinline></video>
            <canvas class="output_canvas" id="output_canvas" width="1280" height="720"></canvas>
            <div id="gesture_output_container">
                <p id='gesture_output' class="output" style="white-space: pre-wrap; word-wrap: break-word;"></p>
            </div>
        </div>
    </div>

    <!-- ---------------------------------- DIFFICULTY SELECTION PAGE ----------------------------------------- -->
    <div id="selDifficolta" class="slide marginBottom" style="display: none;">
        <button id="modFacile" onclick="selectDifficulty(this)">
            <span>Easy</span>
            <span class="description">Reproduce the letter displayed</span>
        </button>
        <button id="modMedia" onclick="selectDifficulty(this)">
            <span>Medium</span>
            <span class="description">Remember the letters</span>
        </button>
        <button id="modDifficile" onclick="selectDifficulty(this)">
            <span>Hard</span>
            <span class="description">Compose sentences</span>
        </button>
    </div>

    <!-- ---------------------------------- EASY GAME PAGE ----------------------------------------- -->
    <div id="giocoFacile" class="slide marginBottom giocoSviluppo" style="display: none;">
        <p>Easy game mode still in development</p>
        <button onclick="toSlide('selDifficolta')"> Go Back </button>
    </div>

    <!-- ---------------------------------- MEDIUM GAME PAGE ----------------------------------------- -->
    <div id="giocoMedio" class="slide marginBottom giocoSviluppo" style="display: none;">
        <p>Medium game mode still in development</p>
        <button onclick="toSlide('selDifficolta')"> Go Back </button>
    </div>

    <!-- ---------------------------------- HARD GAME PAGE ----------------------------------------- -->
    <div id="giocoDifficile" class="slide marginBottom giocoSviluppo" style="display: none;">
        <p>Hard game mode still in development</p>
        <button onclick="toSlide('selDifficolta')"> Go Back </button>
    </div>

    <!-- ---------------------------------- VOCABULARY PAGE ----------------------------------------- -->
    <div id="vocabolario" class="slide marginBottom" style="display: none;">
        <div id="barraRicerca">
            <div class="input-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search"
                    viewBox="0 0 16 16">
                    <path
                        d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
                </svg>
                <input type="search" placeholder="Search...">
            </div>
        </div>
        <div id="imgVocabolario"></div>
    </div>

    <!-- ---------------------------------- CONTACT PAGE ----------------------------------------- -->
    <div id="contatti" class="slide marginBottom">
        <!-- Intestazione -->
        <div id="contattiHeader">
            <h1 class="contattiTitolo">Contact our team</h1>
            <p class="contattiTesto">Send us feedback or report an issue with our application</p>
        </div>
        <form id="contactForm" action="https://formsubmit.co/raft.galileo@gmail.com" method="POST"
            class="formContainer">
            <!-- Nascondere CAPTCHA e risposta -->
            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_next" value="javascript:void(0);">

            <!-- Nickname -->
            <label for="nickname">Nickname</label>
            <input type="text" id="nickname" name="nickname" placeholder="Nickname" required>

            <!-- Email -->
            <label for="email">Email (Optional)</label>
            <input type="email" id="email" name="email" placeholder="Email">

            <!-- Motivo della richiesta -->
            <label for="reason">Reason</label>
            <div class="select-wrapper">
                <select id="reason" name="motivazione">
                    <option value="" disabled selected>Select a reason</option>
                    <option value="malfunzionamento">Malfunction</option>
                    <option value="feedback">Feedback</option>
                    <option value="erroreAlfabeto">Alphabet error</option>
                </select>
            </div>

            <!-- Dispositivo utilizzato -->
            <label for="device">Device used</label>
            <input type="text" id="device" name="dispositivo" placeholder="E.g., iPhone 13, Samsung S22...">

            <!-- Lingua -->
            <label>Language</label>
            <div class="checkbox-group">
                <input type="radio" id="europe" name="lingua" value="Europe">
                <label for="europe">Europe</label>

                <input type="radio" id="american" name="lingua" value="American">
                <label for="american">American</label>
            </div>

            <!-- Messaggio -->
            <label for="message">Message</label>
            <textarea id="message" name="messaggio" placeholder="Write your message..." required></textarea>

            <!-- Pulsante di invio -->
            <button type="submit">Send</button>
        </form>
    </div>

    <!-- Pop-up di conferma -->
    <div id="successPopup"
        style="display: none; position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #4CAF50; color: white; padding: 10px 20px; border-radius: 5px; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);">
        Email sent successfully!
    </div>

    <!-- ---------------------------------- FOOTER ----------------------------------------- -->
    <footer id="nav" class="slide">
        <button onclick="toSlide('homePage')" class="active">
            <div class="indicator"></div>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-translate"
                viewBox="0 0 16 16">
                <path
                    d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286zm1.634-.736L5.5 3.956h-.049l-.679 2.022z" />
                <path
                    d="M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm7.138 9.995q.289.451.63.846c-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6 6 0 0 1-.415-.492 2 2 0 0 1-.94.31" />
            </svg>
        </button>
        <button onclick="toSlide('vocabolario')">
            <div class="indicator"></div>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-collection"
                viewBox="0 0 16 16">
                <path
                    d="M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5z" />
            </svg>
        </button>
        <button onclick="toSlide('contatti')">
            <div class="indicator"></div>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill"
                viewBox="0 0 16 16">
                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
            </svg>
        </button>
    </footer>

</body>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const navButtons = document.querySelectorAll("#nav button");

        navButtons.forEach(button => {
            button.addEventListener("click", () => {
                // Remove the active class from all buttons
                navButtons.forEach(btn => btn.classList.remove("active"));
                // Add the active class to the clicked button
                button.classList.add("active");
            });
        });
    });

    /*---------------------------CONFERMA INVIO DELLA MAIL------------------*/
    document.getElementById("contactForm").addEventListener("submit", function (event) {
        event.preventDefault(); // Previene il refresh della pagina

        let form = event.target;
        let formData = new FormData(form);

        fetch(form.action, {
            method: form.method,
            body: formData,
        }).then(response => {
            if (response.ok) {
                document.getElementById("successPopup").style.display = "block";
                setTimeout(() => {
                    document.getElementById("successPopup").style.display = "none";
                }, 3000);
                form.reset();
            } else {
                alert("There was an issue sending the email. Please try again.");
            }
        }).catch(error => {
            alert("Error: " + error.message);
        });
    });

     function toggleFooterOnResize() {
    const footer = document.getElementById('nav');
    const topMenu = document.getElementById('topMenu');
    const maxWidth = 900;

    if (window.innerWidth > maxWidth) {
      footer.style.display = 'none';
      topMenu.style.display = 'flex';
    } else {
      footer.style.display = 'flex'; // o il valore originale, es: 'block'
      topMenu.style.display = 'none';
    }
  }

  // Esegui la funzione al primo caricamento
  window.addEventListener('DOMContentLoaded', toggleFooterOnResize);
  // Esegui la funzione al resize
  window.addEventListener('resize', toggleFooterOnResize);

</script>

</html>